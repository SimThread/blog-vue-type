{"version":3,"sources":["webpack:///./src/views/login/snsLogin.vue?1d24","webpack:///./src/views/login/snsLogin.vue","webpack:///./src/views/login/snsLogin.vue?c72f","webpack:///./src/views/login/snsLogin.vue?be6d","webpack:///./src/views/login/index.vue?3e89","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/index.vue?4bba","webpack:///./src/views/login/index.vue?7614"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","on","click","$event","stopPropagation","preventDefault","snsLogin","class","attrs","href","staticRenderFns","API_ROOT","snsLoginvue_type_script_lang_ts_SnsLogin","_Vue","SnsLogin","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","createClass","value","provider","search","concat","window","location","origin","authService","token","replace","inherits","vue_property_decorator","tslib_es6","type","Array","snsLoginvue_type_script_lang_ts_","login_snsLoginvue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__","_v","id","novalidate","submit","login","_m","directives","name","rawName","user","expression","data-vv-delay","placeholder","domProps","input","target","composing","$set","maxlength","getCaptchaUrl","src","captchaUrl","logins","loginvue_type_script_lang_ts_Login","Login","_this","email","password","captcha","getSnsLogins","_this2","$validator","validateAll","then","result","localLogin","catch","lib","_ref","globalVal","_ref2","items","_ref3","auth","components","snsloginbtns","loginvue_type_script_lang_ts_","views_loginvue_type_script_lang_ts_"],"mappings":"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","file":"js/chunk-dfbd.e0c71b46.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-sns\"},[_c('ul',_vm._l((_vm.logins),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.snsLogin(item)}}},[_c('a',{class:item,attrs:{\"href\":\"#\"}},[_c('i',{class:'fa fa-' + item})])])}))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { getCookie, isLogin } from '@/utils/authService';\n\nconst API_ROOT = process.env.VUE_APP_API_ROOT;\n\n@Component\nexport default class SnsLogin extends Vue {\n  @Prop({ type: Array })\n  logins: any\n\n  snsLogin(provider:any) {\n    let search = `${API_ROOT}auth/${provider}?redirectUrl=${window.location.origin}`;\n    if (isLogin()) {\n      const token = getCookie('token');\n      search += `&access_token=${token.replace(/(^\")|(\"$)/g, '')}`;\n    }\n    window.location.href = search;\n  }\n}\n","import mod from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.0@babel-loader/lib/index.js!../../../node_modules/_ts-loader@4.5.0@ts-loader/index.js??ref--14-3!../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./snsLogin.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.0@babel-loader/lib/index.js!../../../node_modules/_ts-loader@4.5.0@ts-loader/index.js??ref--14-3!../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./snsLogin.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./snsLogin.vue?vue&type=template&id=a9b9a3e8&\"\nimport script from \"./snsLogin.vue?vue&type=script&lang=ts&\"\nexport * from \"./snsLogin.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"snsLogin.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signin-box\"},[_c('div',{staticClass:\"signin-container\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"登 录\")]),_c('div',{attrs:{\"id\":\"signinForm\"}},[_c('form',{staticClass:\"signin-form form-horizontal\",attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();_vm.login()}}},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"input-group\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email|min:3'),expression:\"'required|email|min:3'\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"email\",\"data-vv-delay\":\"100\",\"placeholder\":\"邮箱\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"input-group\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"},{name:\"validate\",rawName:\"v-validate\",value:('required|min:5'),expression:\"'required|min:5'\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"col-xs-6 captcha-code\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.captcha),expression:\"user.captcha\"},{name:\"validate\",rawName:\"v-validate\",value:('required|min:5|max:6'),expression:\"'required|min:5|max:6'\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"captcha\",\"maxlength\":\"6\",\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.user.captcha)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"captcha\", $event.target.value)}}})]),_c('div',{staticClass:\"col-xs-6 captcha-img\"},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){$event.preventDefault();_vm.getCaptchaUrl()}}},[_c('img',{attrs:{\"src\":_vm.captchaUrl}})])])]),_vm._m(2)])]),_c('div',{staticClass:\"login-sns\"},[_c('p',[_vm._v(\"您还可以通过以下方式直接登录\")]),_c('snsloginbtns',{attrs:{\"logins\":_vm.logins}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-addon\"},[_c('i',{staticClass:\"fa fa-envelope-o\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-addon\"},[_c('i',{staticClass:\"fa fa-unlock-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary btn-lg btn-block\",attrs:{\"type\":\"submit\",\"id\":\"signin_btn\"}},[_vm._v(\"登 录\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Validator } from 'vee-validate';\nimport { Component, Vue } from 'vue-property-decorator';\nimport { State, Action } from 'vuex-class';\nimport snsloginbtns from './snsLogin.vue';\n\n\n@Component({\n  components: {\n  snsloginbtns, }\n  })\nexport default class Login extends Vue {\n  @State(({ globalVal }) => globalVal.captchaUrl) captchaUrl:any\n  @State(({ logins }) => logins.items) logins:any\n  @State(({ auth }) => auth.token) token:any\n\n  @Action getSnsLogins:any\n  @Action getCaptchaUrl:any\n  @Action localLogin:any\n\n  user:any = {\n    email: '',\n    password: '',\n    captcha: '',\n  }\n\n  created() {\n    this.getCaptchaUrl();\n    this.getSnsLogins();\n  }\n\n  login() {\n    this.$validator.validateAll().then((result) => {\n      if (result) {\n        this.localLogin(this.user);\n      }\n    }).catch(() => {\n      // 提示错误\n    });\n  }\n}\n// :disabled=\"!fields.valid()\"\n","import mod from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.0@babel-loader/lib/index.js!../../../node_modules/_ts-loader@4.5.0@ts-loader/index.js??ref--14-3!../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.0@babel-loader/lib/index.js!../../../node_modules/_ts-loader@4.5.0@ts-loader/index.js??ref--14-3!../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=41d8097a&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports"],"sourceRoot":""}